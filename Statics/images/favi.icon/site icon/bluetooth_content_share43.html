<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/></head><body>crypto_live_chat/ (project root)<br><br><a href="http://manage.py">manage.py</a> file is assumed to be generated with Django<br><br>=== Step 1: Basic Django Setup ===<br><br>django-admin startproject crypto_live_chat<br><br>cd crypto_live_chat<br><br>python <a href="http://manage.py">manage.py</a> startapp core<br><br>pip install channels redis requests<br><br>=== <a href="http://settings.py">settings.py</a> ===<br><br>INSTALLED_APPS = [ ..., 'channels', 'core', ]<br><br>ASGI_APPLICATION = '<a href="http://crypto_live_chat.asgi.application">crypto_live_chat.asgi.application</a>' CHANNEL_LAYERS = { 'default': { 'BACKEND': '<a href="http://channels_redis.core.RedisChannelLayer">channels_redis.core.RedisChannelLayer</a>', 'CONFIG': { 'hosts': [('<a href="http://127.0.0.1">127.0.0.1</a>', <a href="tel:6379">6379</a>)], }, }, }<br><br>=== <a href="http://asgi.py">asgi.py</a> ===<br><br>import os from <a href="http://django.core.asgi">django.core.asgi</a> import get_asgi_application from <a href="http://channels.routing">channels.routing</a> import ProtocolTypeRouter, URLRouter from <a href="http://channels.auth">channels.auth</a> import AuthMiddlewareStack import <a href="http://core.routing">core.routing</a><br><br><a href="http://os.environ.setdefault">os.environ.setdefault</a>('DJANGO_SETTINGS_MODULE', '<a href="http://crypto_live_chat.settings">crypto_live_chat.settings</a>')<br><br>application = ProtocolTypeRouter({ "http": get_asgi_application(), "websocket": AuthMiddlewareStack( URLRouter( <a href="http://core.routing">core.routing</a>.websocket_urlpatterns ) ), })<br><br>=== core/<a href="http://routing.py">routing.py</a> ===<br><br>from <a href="http://django.urls">django.urls</a> import re_path from . import consumers<br><br>websocket_urlpatterns = [ re_path(r'ws/chat/(?P&lt;room_name&gt;\w+)/$', <a href="http://consumers.ChatConsumer">consumers.ChatConsumer</a>.as_asgi()), ]<br><br>=== core/<a href="http://consumers.py">consumers.py</a> ===<br><br>import json import requests from <a href="http://channels.generic.websocket">channels.generic.websocket</a> import AsyncWebsocketConsumer<br><br>class ChatConsumer(AsyncWebsocketConsumer): async def connect(self): self.room_name = <a href="http://self.scope">self.scope</a>['url_route']['kwargs']['room_name'] self.room_group_name = f'chat_{self.room_name}'<br><br>await self.channel_layer.group_add( self.room_group_name, self.channel_name ) await <a href="http://self.accept">self.accept</a>() async def disconnect(self, close_code): await self.channel_layer.group_discard( self.room_group_name, self.channel_name ) async def receive(self, text_data): text_data_json = <a href="http://json.loads">json.loads</a>(text_data) message_type = <a href="http://text_data_json.get">text_data_json.get</a>('type', 'message') if message_type == 'message': message = text_data_json['message'] username = text_data_json['username'] await self.channel_layer.group_send( self.room_group_name, { 'type': 'chat_message', 'message': message, 'username': username, } ) elif message_type == 'get_price': coin = text_data_json['coin'] price = self.get_crypto_price(coin) await <a href="http://self.send">self.send</a>(text_data=<a href="http://json.dumps">json.dumps</a>({ 'type': 'price_update', 'coin': coin, 'price': price })) elif message_type == 'signal': signal = { 'coin': text_data_json['coin'], 'entry': text_data_json['entry'], 'tp': text_data_json['tp'], 'sl': text_data_json['sl'], 'chart': text_data_json['chart'], 'reason': text_data_json['reason'], 'username': text_data_json['username'] } await self.channel_layer.group_send( self.room_group_name, { 'type': 'signal_message', 'signal': signal } ) async def chat_message(self, event): await <a href="http://self.send">self.send</a>(text_data=<a href="http://json.dumps">json.dumps</a>({ 'type': 'message', 'message': event['message'], 'username': event['username'] })) async def signal_message(self, event): await <a href="http://self.send">self.send</a>(text_data=<a href="http://json.dumps">json.dumps</a>({ 'type': 'signal', 'signal': event['signal'] })) def get_crypto_price(self, coin): try: url = f'<a href="https://api.coingecko.com/api/v3/simple/price?ids">https://api.coingecko.com/api/v3/simple/price?ids</a>={coin}&amp;vs_currencies=usd' res = <a href="http://requests.get">requests.get</a>(url).json() return <a href="http://res.get">res.get</a>(coin, {}).get('usd', 'Unavailable') except: return 'Error' <br><br>=== core/<a href="http://views.py">views.py</a> ===<br><br>from <a href="http://django.shortcuts">django.shortcuts</a> import render<br><br>def chat_room(request, room_name): return render(request, 'core/<a href="http://chat_room.html">chat_room.html</a>', {'room_name': room_name})<br><br>=== core/<a href="http://urls.py">urls.py</a> ===<br><br>from <a href="http://django.urls">django.urls</a> import path from . import views<br><br>urlpatterns = [ path('chat/str:room_name/', views.chat_room, name='chat_room'), ]<br><br>=== templates/core/<a href="http://chat_room.html">chat_room.html</a> ===<br><br>Live Crypto Chat body { font-family: Arial; } #chat-log { border: 1px solid #ccc; height: <a href="tel:300">300</a>px; overflow-y: scroll; margin-bottom: 10px; } .signal { border: 1px dashed green; padding: 8px; margin: 5px 0; background: #f9fff9; } <br><br>Crypto Live Chatroom: {{ room_name }}<br><br>Send <br><br>ðŸ“ˆ Post Signal<br><br><br><br><br><br><br><br>Send Signal Get Price <br><br>const roomName = "{{ room_name }}"; const username = prompt("Enter your name:"); const chatSocket = new WebSocket( 'ws://' + <a href="http://window.location.host">window.location.host</a> + '/ws/chat/' + roomName + '/' ); <a href="http://chatSocket.onmessage">chatSocket.onmessage</a> = function(e) { const data = <a href="http://JSON.parse">JSON.parse</a>(<a href="http://e.data">e.data</a>); if (<a href="http://data.type">data.type</a> === 'message') { const log = <a href="http://document.getElementById">document.getElementById</a>('chat-log'); <a href="http://log.innerHTML">log.innerHTML</a> += '&lt;b&gt;' + <a href="http://data.username">data.username</a> + ':&lt;/b&gt; ' + <a href="http://data.message">data.message</a> + '&lt;br&gt;'; <a href="http://log.scrollTop">log.scrollTop</a> = <a href="http://log.scrollHeight">log.scrollHeight</a>; } else if (<a href="http://data.type">data.type</a> === 'price_update') { <a href="http://document.getElementById">document.getElementById</a>('price-output').innerText = `${<a href="http://data.coin">data.coin</a>} = $${<a href="http://data.price">data.price</a>}`; } else if (<a href="http://data.type">data.type</a> === 'signal') { const sig = <a href="http://data.signal">data.signal</a>; const log = <a href="http://document.getElementById">document.getElementById</a>('chat-log'); <a href="http://log.innerHTML">log.innerHTML</a> += `&lt;div class='signal'&gt;&lt;b&gt;ðŸ”” TRADE SIGNAL by ${<a href="http://sig.username">sig.username</a>}&lt;/b&gt;&lt;br&gt;Coin: ${<a href="http://sig.coin">sig.coin</a>}&lt;br&gt;Entry: ${<a href="http://sig.entry">sig.entry</a>}&lt;br&gt;TP: ${<a href="http://sig.tp">sig.tp</a>}&lt;br&gt;SL: ${<a href="http://sig.sl">sig.sl</a>}&lt;br&gt;Reason: ${<a href="http://sig.reason">sig.reason</a>}&lt;br&gt;&lt;img src='${<a href="http://sig.chart">sig.chart</a>}' width='<a href="tel:100">100</a>%'&gt;&lt;/div&gt;`; <a href="http://log.scrollTop">log.scrollTop</a> = <a href="http://log.scrollHeight">log.scrollHeight</a>; } }; <a href="http://document.getElementById">document.getElementById</a>('chat-message-submit').onclick = function() { const messageInputDom = <a href="http://document.getElementById">document.getElementById</a>('chat-message-input'); const message = <a href="http://messageInputDom.value">messageInputDom.value</a>; <a href="http://chatSocket.send">chatSocket.send</a>(<a href="http://JSON.stringify">JSON.stringify</a>({ 'type': 'message', 'message': message, 'username': username })); <a href="http://messageInputDom.value">messageInputDom.value</a> = ''; }; <a href="http://document.getElementById">document.getElementById</a>('get-price').onclick = function() { const coin = <a href="http://document.getElementById">document.getElementById</a>('coin-name').<a href="http://value.toLowerCase">value.toLowerCase</a>(); <a href="http://chatSocket.send">chatSocket.send</a>(<a href="http://JSON.stringify">JSON.stringify</a>({ 'type': 'get_price', 'coin': coin })); }; <a href="http://document.getElementById">document.getElementById</a>('post-signal').onclick = function() { <a href="http://chatSocket.send">chatSocket.send</a>(<a href="http://JSON.stringify">JSON.stringify</a>({ 'type': 'signal', 'coin': <a href="http://document.getElementById">document.getElementById</a>('signal-coin').value, 'entry': <a href="http://document.getElementById">document.getElementById</a>('signal-entry').value, 'tp': <a href="http://document.getElementById">document.getElementById</a>('signal-tp').value, 'sl': <a href="http://document.getElementById">document.getElementById</a>('signal-sl').value, 'reason': <a href="http://document.getElementById">document.getElementById</a>('signal-reason').value, 'chart': <a href="http://document.getElementById">document.getElementById</a>('signal-chart').value, 'username': username })); };</body></html>